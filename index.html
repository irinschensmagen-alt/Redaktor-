<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Deutsch interaktiv | Final Check 27.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6C5CE7; --a: #FD79A8; --ok: #00B894; }
        body { font-family: 'Montserrat', sans-serif; background: #f0f2f5; padding: 20px; }
        .wrapper { max-width: 1400px; margin: 0 auto; background: white; border-radius: 40px; border: 6px solid var(--p); padding: 30px; box-shadow: 0 30px 60px rgba(0,0,0,0.1); }
        .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 3px solid #eee; padding-bottom: 20px; margin-bottom: 25px; }
        .logo { width: 100px; height: 100px; border-radius: 50%; border: 4px solid var(--a); }
        
        .grid { display: grid; grid-template-columns: 1.2fr 1fr 380px; gap: 20px; }
        .panel { background: #F8F9FF; border-radius: 25px; padding: 20px; border: 1px solid #E1E2EF; }
        .panel-h { font-weight: 900; color: var(--p); border-left: 6px solid var(--a); padding-left: 12px; margin-bottom: 15px; text-transform: uppercase; }

        /* –¶–≤–µ—Ç–∞ –∏ –≠—Ñ—Ñ–µ–∫—Ç—ã */
        .hue-slider { -webkit-appearance: none; width: 100%; height: 12px; border-radius: 10px; background: linear-gradient(to right, red, yellow, green, cyan, blue, magenta, red); margin: 10px 0; cursor: pointer; }
        .hue-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background: white; border: 3px solid var(--p); border-radius: 50%; }
        
        .eff-bar { display: flex; gap: 5px; margin-top: 10px; }
        .eff-btn { flex: 1; padding: 8px; background: #eee; border-radius: 10px; cursor: pointer; text-align: center; border: 2px solid transparent; font-size: 1.1rem; }
        .eff-btn.active { background: white; border-color: var(--a); transform: scale(1.05); }

        /* GIF –ë–ª–æ–∫–∏ */
        .gif-list { display: flex; gap: 10px; overflow-x: auto; padding: 10px 0; }
        .gif-img { width: 75px; height: 75px; border-radius: 12px; border: 3px solid #ddd; cursor: pointer; object-fit: cover; background: #fff; }
        .gif-img.active { border-color: var(--a); box-shadow: 0 0 15px rgba(253,121,168,0.5); }

        input, select, textarea { width: 100%; padding: 10px; border-radius: 10px; border: 2px solid #ddd; margin-bottom: 8px; font-family: inherit; }
        .btn { width: 100%; padding: 18px; border: none; border-radius: 15px; font-weight: 900; cursor: pointer; transition: 0.2s; color: white; margin-top: 10px; }
        .btn-save { background: var(--ok); box-shadow: 0 5px 0 #008a6e; }
        .btn-gen { background: var(--p); box-shadow: 0 5px 0 #4834D4; font-size: 1.3rem; }
        .btn:active { transform: translateY(3px); box-shadow: none; }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="header">
        <div style="display:flex; align-items:center; gap:15px;">
            <img src="https://raw.githubusercontent.com/irinschensmagen-alt/Redaktor-/main/logo.png" class="logo">
            <h2 style="margin:0; color:var(--p);">Deutsch interaktiv 27.0</h2>
        </div>
        <select id="uiLang" onchange="translateUI()" style="width:150px;">
            <option value="ru">–†—É—Å—Å–∫–∏–π (RU)</option>
            <option value="de">Deutsch (DE)</option>
            <option value="en">English (EN)</option>
        </select>
    </div>

    <div class="grid">
        <div class="panel">
            <div class="panel-h" id="h1">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
            <div id="cats-area"></div>
        </div>

        <div class="panel">
            <div class="panel-h" id="h2">–ì–µ—Ä–æ–∏ –∏ –ü–æ–¥–∞—Ä–∫–∏</div>
            <label id="lt">–¢–µ–º–∞ —Ñ–æ–Ω–∞</label>
            <select id="theme-sel"><option>–í –æ–≥–æ—Ä–æ–¥–µ üåª</option><option>–ó–∞–º–æ–∫ üè∞</option><option>–ö–æ—Å–º–æ—Å üöÄ</option></select>
            
            <label style="margin-top:15px;" id="lh">–í—ã–±–µ—Ä–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</label>
            <div class="gif-list" id="hero-list">
                <img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3A4Mjd6NjF6Z3R6Z3R6Z3R6Z3R6Z3R6Z3R6Z3/mickey.gif" class="gif-img active" onclick="pick(this)">
                <img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3A4Mjd6NjF6Z3R6Z3R6Z3R6Z3R6Z3R6Z3R6Z3/elsa.gif" class="gif-img" onclick="pick(this)">
                <img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3A4Mjd6NjF6Z3R6Z3R6Z3R6Z3R6Z3R6Z3R6Z3/bee.gif" class="gif-img" onclick="pick(this)">
            </div>

            <label style="margin-top:15px;" id="lg">–í—ã–±–µ—Ä–∏ –ø–æ–¥–∞—Ä–æ–∫</label>
            <div class="gif-list" id="gift-list">
                <img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3A4Mjd6NjF6Z3R6Z3R6Z3R6Z3R6Z3R6Z3R6Z3/cup.gif" class="gif-img active" onclick="pick(this)">
                <img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3A4Mjd6NjF6Z3R6Z3R6Z3R6Z3R6Z3R6Z3R6Z3/stars.gif" class="gif-img" onclick="pick(this)">
            </div>
        </div>

        <div class="panel">
            <div class="panel-h" id="h3">–ö–Ω–æ–ø–∫–∏ –∏ –¢–µ–∫—Å—Ç</div>
            <label id="lb1">–ù–∞—á–∞—Ç—å</label><input type="text" id="btn-s" value="–ù–ê–ß–ê–¢–¨">
            <label id="lb2">–ó–∞–≤–µ—Ä—à–∏—Ç—å</label><input type="text" id="btn-f" value="–ó–ê–í–ï–†–®–ò–¢–¨">
            <label id="lb3">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</label><input type="text" id="btn-r" value="–ü–û–í–¢–û–†–ò–¢–¨">
            <label id="lb4">–ó–∞–Ω–æ–≤–æ</label><input type="text" id="btn-re" value="–ó–ê–ù–û–í–û">
            <label id="lw">–ü–æ–±–µ–¥–∞</label><input type="text" id="win-t" value="–¢–´ –ì–ï–ù–ò–ô!">
            
            <button class="btn btn-save" id="save-btn" onclick="saveData()">üíæ –°–û–•–†–ê–ù–ò–¢–¨ –ü–†–ï–°–ï–¢</button>
            <button class="btn btn-gen" id="gen-btn" onclick="generate()">üöÄ –°–û–ó–î–ê–¢–¨ –ò–ì–†–£</button>
            <div id="msg" style="text-align:center; color:var(--ok); font-weight:bold; margin-top:10px; display:none;">–ì–æ—Ç–æ–≤–æ!</div>
        </div>
    </div>
</div>

<script>
    const dictionary = {
        ru: {h1:"–ö–ê–¢–ï–ì–û–†–ò–ò", h2:"–ì–ï–†–û–ò", h3:"–ö–ù–û–ü–ö–ò", save:"üíæ –°–û–•–†–ê–ù–ò–¢–¨ –ü–†–ï–°–ï–¢", gen:"üöÄ –°–û–ó–î–ê–¢–¨ –ò–ì–†–£", win:"–¢–´ –ì–ï–ù–ò–ô!"},
        de: {h1:"KATEGORIEN", h2:"HELDEN", h3:"BUTTONS", save:"üíæ PRESET SPEICHERN", gen:"üöÄ SPIEL ERSTELLEN", win:"DU BIST GENIAL!"}
    };

    const catsArea = document.getElementById('cats-area');
    for(let i=1; i<=3; i++) {
        catsArea.innerHTML += `
            <div style="background:white; padding:15px; border-radius:15px; margin-bottom:12px; border:1px solid #eee;">
                <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è ${i}</label>
                <input type="text" id="cat-t-${i}" value="${i==1?'Der':i==2?'Die':'Das'}">
                <input type="range" id="cat-h-${i}" class="hue-slider">
                <div class="eff-bar">
                    <div class="eff-btn active" onclick="eff(this)">üö´</div>
                    <div class="eff-btn" onclick="eff(this)">üî•</div>
                    <div class="eff-btn" onclick="eff(this)">‚ú®</div>
                </div>
                <textarea id="cat-w-${i}" rows="1" placeholder="–°–ª–æ–≤–∞..."></textarea>
            </div>`;
    }

    function pick(el) { el.parentElement.querySelectorAll('img').forEach(i=>i.classList.remove('active')); el.classList.add('active'); }
    function eff(el) { el.parentElement.querySelectorAll('div').forEach(i=>i.classList.remove('active')); el.classList.add('active'); }

    function translateUI() {
        const l = document.getElementById('uiLang').value;
        const d = dictionary[l] || dictionary.ru;
        document.getElementById('h1').innerText = d.h1;
        document.getElementById('save-btn').innerText = d.save;
        document.getElementById('gen-btn').innerText = d.gen;
    }

    function saveData() {
        const data = {
            lang: document.getElementById('uiLang').value,
            start: document.getElementById('btn-s').value,
            cats: []
        };
        for(let i=1; i<=3; i++) {
            data.cats.push({t: document.getElementById(`cat-t-${i}`).value, w: document.getElementById(`cat-w-${i}`).value});
        }
        localStorage.setItem('game_v27', JSON.stringify(data));
        showMsg();
    }

    function generate() {
        const code = "GAME_CONFIG_READY"; // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        alert("–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞! –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë –≤ Genially.");
    }

    function showMsg() {
        const m = document.getElementById('msg');
        m.style.display = 'block';
        setTimeout(() => m.style.display = 'none', 2000);
    }

    window.onload = () => {
        const saved = localStorage.getItem('game_v27');
        if(saved) {
            const d = JSON.parse(saved);
            document.getElementById('uiLang').value = d.lang;
            d.cats.forEach((c, idx) => {
                document.getElementById(`cat-t-${idx+1}`).value = c.t;
                document.getElementById(`cat-w-${idx+1}`).value = c.w;
            });
            translateUI();
        }
    };
</script>
</body>
</html>
