<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Deutsch interaktiv | –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ò–≥—Ä 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6C5CE7; --a: #FD79A8; --ok: #00B894; --bg: #F9FAFB; --dark: #2D3436; }
        body { font-family: 'Montserrat', sans-serif; background: var(--bg); margin: 0; color: var(--dark); }

        /* HEADER */
        .top-bar { background: white; padding: 20px 50px; display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #eee; position: sticky; top: 0; z-index: 100; }
        .logo-area { display: flex; align-items: center; gap: 15px; }
        .logo-text h1 { margin: 0; font-size: 1.2rem; color: var(--p); font-weight: 900; }

        /* –¶–ï–ù–¢–†–ê–õ–¨–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        .container { max-width: 900px; margin: 40px auto; background: white; border-radius: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.05); overflow: hidden; border: 1px solid #eee; }
        
        /* –ë–õ–û–ö–ò –ù–ê–°–¢–†–û–ï–ö */
        .section { padding: 40px; border-bottom: 1px solid #f0f0f0; }
        .section:nth-child(even) { background: #fafaff; }
        .section-title { display: flex; align-items: center; gap: 10px; margin-bottom: 25px; }
        .section-title span { background: var(--p); color: white; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-weight: 900; font-size: 0.8rem; }
        .section-title h2 { margin: 0; font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1px; }

        /* –ü–û–õ–Ø –í–í–û–î–ê */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .full { grid-column: span 2; }
        label { display: block; font-size: 0.75rem; font-weight: 800; color: #888; margin-bottom: 8px; text-transform: uppercase; }
        input, select, textarea { width: 100%; padding: 15px; border-radius: 12px; border: 2px solid #e0e0e0; font-family: inherit; font-size: 1rem; transition: 0.3s; box-sizing: border-box; }
        input:focus { border-color: var(--p); outline: none; background: white; }
        textarea { resize: vertical; min-height: 80px; }

        /* –ö–ê–¢–ï–ì–û–†–ò–ò */
        .cat-box { background: white; border: 2px solid #eee; padding: 20px; border-radius: 20px; margin-bottom: 15px; }
        .cat-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .color-picker { width: 50px; height: 50px; border: none; border-radius: 50%; cursor: pointer; padding: 0; overflow: hidden; }

        /* –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ */
        .action-bar { padding: 40px; text-align: center; background: #fff; }
        .btn { padding: 20px 40px; border: none; border-radius: 20px; font-weight: 900; font-size: 1rem; cursor: pointer; transition: 0.3s; text-transform: uppercase; }
        .btn-main { background: var(--p); color: white; box-shadow: 0 10px 30px rgba(108, 92, 231, 0.4); }
        .btn-main:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(108, 92, 231, 0.6); }

        /* –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û IFRAME */
        #iframe-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(45, 52, 54, 0.95); z-index: 1000; align-items: center; justify-content: center; }
        .modal-content { background: white; width: 90%; max-width: 800px; padding: 50px; border-radius: 40px; position: relative; }
        .close-btn { position: absolute; top: 20px; right: 20px; font-size: 2rem; cursor: pointer; color: #888; }
        #code-area { background: #2d3436; color: #fab1a0; padding: 25px; border-radius: 15px; font-family: monospace; font-size: 1.1rem; word-break: break-all; margin: 20px 0; border: 1px solid #444; }

        .v-selector { display: flex; gap: 10px; margin-top: 10px; }
        .v-item { cursor: pointer; font-size: 1.5rem; padding: 10px; border: 2px solid #eee; border-radius: 12px; transition: 0.2s; }
        .v-item.active { border-color: var(--a); background: #fff0f5; transform: scale(1.1); }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="logo-area">
        <img src="https://raw.githubusercontent.com/irinschensmagen-alt/Redaktor-/main/logo.png" width="60">
        <div class="logo-text">
            <h1>DEUTSCH INTERAKTIV</h1>
            <small style="color:#aaa; font-weight:700;">–ö–û–ù–°–¢–†–£–ö–¢–û–† –ò–ì–† 2026</small>
        </div>
    </div>
    <div class="header-actions">
        <button class="btn btn-main" style="padding: 12px 25px; font-size: 0.8rem;" onclick="generateIframe()">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button>
    </div>
</div>

<div class="container">
    <div class="section">
        <div class="section-title"><span>1</span><h2>–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2></div>
        <div class="grid">
            <div>
                <label>–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–≥—Ä—ã</label>
                <select id="game-lang">
                    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                    <option value="de">Deutsch</option>
                    <option value="en">English</option>
                    <option value="es">Espa√±ol</option>
                    <option value="it">Italiano</option>
                    <option value="zh">Chinese</option>
                </select>
            </div>
            <div>
                <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏ –û–±—ä–µ–∫—Ç</label>
                <select id="game-lvl">
                    <option value="butterfly">ü¶ã –õ—ë–≥–∫–∏–π (–ë–∞–±–æ—á–∫–∞)</option>
                    <option value="dahlia">üå∏ –°—Ä–µ–¥–Ω–∏–π (–ì–µ–æ—Ä–≥–∏–Ω–∞)</option>
                    <option value="house">üè† –°–ª–æ–∂–Ω—ã–π (–î–æ–º)</option>
                </select>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title"><span>2</span><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—Ä—Ç–∏–∫–ª–µ–π –∏ —Å–ª–æ–≤</h2></div>
        <div id="cat-list">
            </div>
    </div>

    <div class="section">
        <div class="section-title"><span>3</span><h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h2></div>
        <div class="grid">
            <div>
                <label>–§–æ–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ (–ó–∞—Å—Ç–∞–≤–∫–∞)</label>
                <input type="file" accept="image/*" onchange="encodeImg(this, 'bg')">
            </div>
            <div>
                <label>–ì–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π (–•—É–¥–æ–∂–Ω–∏–∫)</label>
                <input type="file" accept="image/*" onchange="encodeImg(this, 'hero')">
            </div>
            <div class="full">
                <label>–¢–µ–∫—Å—Ç –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ–∏–Ω–∞–ª–µ</label>
                <input type="text" id="win-text" placeholder="GUT GEMACHT! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Å—Ç–µ—Ä!">
            </div>
        </div>
    </div>

    <div class="action-bar">
        <button class="btn btn-main" onclick="exportHTML()">üì¶ –°–ö–ê–ß–ê–¢–¨ –ì–û–¢–û–í–£–Æ –ò–ì–†–£ (.HTML)</button>
        <p style="font-size: 0.8rem; color: #aaa; margin-top: 15px;">–ü–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –ª—é–±–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–∞–π—Ç.</p>
    </div>
</div>

<div id="iframe-modal">
    <div class="modal-content">
        <span class="close-btn" onclick="document.getElementById('iframe-modal').style.display='none'">&times;</span>
        <h2 style="color:var(--p); margin-top:0;">–í–∞—à Iframe –ö–æ–¥</h2>
        <p>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ HTML-–±–ª–æ–∫ –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ (Tilda, WordPress –∏ –¥—Ä.):</p>
        <div id="code-area"></div>
        <button class="btn btn-main" style="width:100%;" onclick="copyCode()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
    </div>
</div>

<script>
    const CATS = [
        { lab: 'Der', color: '#74b9ff', words: 'Tisch, Tag, Apfel' },
        { lab: 'Die', color: '#ff7675', words: 'Lampe, Nacht, Frau' },
        { lab: 'Das', color: '#55efc4', words: 'Haus, Kind, Buch' }
    ];

    function init() {
        const root = document.getElementById('cat-list');
        CATS.forEach((cat, i) => {
            root.innerHTML += `
                <div class="cat-box">
                    <div class="cat-head">
                        <input type="text" value="${cat.lab}" style="width:120px; font-weight:900; border:none; border-bottom:3px solid ${cat.color};">
                        <input type="color" value="${cat.color}" class="color-picker">
                    </div>
                    <label>–°–ø–∏—Å–æ–∫ —Å–ª–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <textarea>${cat.words}</textarea>
                    <label>–í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏–∏</label>
                    <div class="v-selector">
                        <div class="v-item active">üö´</div>
                        <div class="v-item">üî•</div>
                        <div class="v-item">‚ú®</div>
                        <div class="v-item">üåà</div>
                    </div>
                </div>
            `;
        });
    }

    function generateIframe() {
        const modal = document.getElementById('iframe-modal');
        const code = `<iframe src="https://your-domain.com/game.html" width="1000" height="600" frameborder="0" allowfullscreen></iframe>`;
        document.getElementById('code-area').innerText = code;
        modal.style.display = 'flex';
    }

    function copyCode() {
        const text = document.getElementById('code-area').innerText;
        navigator.clipboard.writeText(text);
        alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
    }

    function exportHTML() {
        // –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —á–∏—Å—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–≥—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∫–µ—Ç—ã
        alert('–°–æ–±–∏—Ä–∞—é –∏–≥—Ä—É... –§–∞–π–ª —Å–∫–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.');
        const blob = new Blob(["<html>...–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–≥—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫...</html>"], {type: 'text/html'});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = "Deutsch_Interaktiv_Game.html";
        a.click();
    }

    init();
</script>
</body>
</html>
